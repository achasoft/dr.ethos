<div class="users-wrapper">
  <app-header></app-header>
  <mat-card>

    <div class="filter-wrapper">
      <button (click)="create()" mat-button color="primary">
        {{ 'CREATE' | translate }}
      </button>
      <mat-form-field>
        <input matInput (keyup)="applyFilter($event.target.value)" [placeholder]="'FILTER' | translate">
      </mat-form-field>
    </div>

    <div class="grid-wrapper">
      <table mat-table
             matSort
             matSortDisableClear
             matSortDirection="asc"
             [dataSource]="usersData">

        <ng-container matColumnDef="index">
          <th
            style="min-width: 80px; width: 80px"
            mat-header-cell
            *matHeaderCellDef
          >
            {{ 'INDEX' | translate }}
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.id }}
          </td>
        </ng-container>
        <ng-container matColumnDef="first_name">
          <th
            style="min-width: 150px; width: 150px"
            mat-sort-header
            mat-header-cell
            *matHeaderCellDef
          >
            {{ 'FIRST_NAME' | translate }}
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.first_name }}
          </td>
        </ng-container>
        <ng-container matColumnDef="last_name">
          <th
            style="min-width: 150px; width: 150px"
            mat-sort-header
            mat-header-cell
            *matHeaderCellDef
          >
            {{ 'LAST_NAME' | translate }}
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.last_name }}
          </td>
        </ng-container>
        <ng-container matColumnDef="birth_date">
          <th
            style="min-width: 150px; width: 150px"
            mat-sort-header
            mat-header-cell
            *matHeaderCellDef
          >
            {{ 'BIRTH_DATE' | translate }}
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.birth_date }}
          </td>
        </ng-container>
        <ng-container matColumnDef="phone_number">
          <th
            style="min-width: 150px; width: 150px"
            mat-sort-header
            mat-header-cell
            *matHeaderCellDef
          >
            {{ 'PHONE_NUMBER' | translate }}
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.phone_number }}
          </td>
        </ng-container>
        <ng-container matColumnDef="operations">
          <th mat-header-cell *matHeaderCellDef></th>
          <td
            class="operations"
            mat-cell
            *matCellDef="let element"
          >
            <button (click)="delete(element)">
              <mat-icon>delete</mat-icon>
            </button>

            <button (click)="edit(element)">
              <mat-icon>edit</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: columns"></tr>
      </table>

      <div class="spinner-container" *ngIf="isLoading">
        <app-waiting></app-waiting>
      </div>
      <mat-paginator [pageSize]="defaultPageSize"
        [disabled]="isLoading"
        showFirstLastButtons
      ></mat-paginator>
    </div>

  </mat-card>

</div>
